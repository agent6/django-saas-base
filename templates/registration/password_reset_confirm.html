{% extends "base.html" %}

{% block title %}Set New Password | SaaS Base{% endblock %}

{% block content %}
<div class="mx-auto max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-sm">
  {% if validlink %}
    <h1 class="text-xl font-semibold text-slate-900">Set a new password</h1>
    <p class="mt-2 text-sm text-slate-600">Choose a strong password you haven't used before.</p>

    <form method="post" class="mt-6 space-y-4">
      {% csrf_token %}
      {{ form.non_field_errors }}
      <div>
        <label class="text-sm font-medium text-slate-700">New password</label>
        {{ form.new_password1 }}
        {{ form.new_password1.errors }}
      </div>
      <div>
        <label class="text-sm font-medium text-slate-700">Confirm new password</label>
        {{ form.new_password2 }}
        {{ form.new_password2.errors }}
      </div>
      <button type="submit" class="w-full rounded-md bg-slate-900 px-4 py-2 text-sm text-white">Update password</button>
    </form>
  {% else %}
    <h1 class="text-xl font-semibold text-slate-900">Reset link expired</h1>
    <p class="mt-2 text-sm text-slate-600">This password reset link is invalid or has already been used.</p>
    <a href="{% url 'password_reset' %}" class="mt-4 inline-flex rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700">Request a new link</a>
  {% endif %}
</div>
{% endblock %}
